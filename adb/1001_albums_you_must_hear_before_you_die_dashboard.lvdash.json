{"datasets":[{"name":"temp_dataset_name","displayName":"gold_fact_review","query":"select * from hive_metastore.ajc_dbt.gold_fact_review"},{"name":"898edac1","displayName":"exploded genre","query":"SELECT\r\n    `My Rating`, -- Select the original score column\r\n    `Global Rating`,\r\n    exploded_genre -- Select the exploded genre element\r\nFROM\r\n    ajc_dbt.gold_fact_review t\r\nLATERAL VIEW explode(t.genres) exploded_table AS exploded_genre;"}],"pages":[{"name":"temp_page_name","displayName":"Overview","layout":[{"widget":{"name":"temp_bar_chart_name","queries":[{"name":"main_query","query":{"datasetName":"temp_dataset_name","fields":[{"name":"Global Rating","expression":"`Global Rating`"},{"name":"My Rating","expression":"`My Rating`"}],"disaggregated":true}}],"spec":{"version":3,"widgetType":"scatter","encodings":{"x":{"fieldName":"Global Rating","scale":{"type":"quantitative"},"format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":0},"hideGroupSeparator":false},"axis":{"hideLabels":true},"displayName":"Global Rating"},"y":{"fieldName":"My Rating","scale":{"type":"quantitative"},"axis":{"hideLabels":true},"displayName":"My Rating"}},"frame":{"title":"Album Ratings vs. Global Ratings","showTitle":true,"showDescription":false},"mark":{"size":2.5}}},"position":{"x":3,"y":5,"width":3,"height":6}},{"widget":{"name":"temp_text_box_name","textbox_spec":"\n# 1001 Albums Review Dashboard\n\nUsing the data from a web app that lets you rate albums, based off the book `1001 Albums You Must Hear Before You Die` by Robert Dimery.\n\nEvery day a new album is randomised and listened to, then scored. \n\nAn API link provided by the webapp allows for this ratings data to be used as a source for a small DW project using Azure Data Factory, Databricks and dbt\n\nSource code for the project can be found [in GitHub, here](https://github.com/andrewcrosher/ajc_dbt)\n"},"position":{"x":0,"y":0,"width":3,"height":4}},{"widget":{"name":"temp_table_name","queries":[{"name":"main_query","query":{"datasetName":"temp_dataset_name","fields":[{"name":"album","expression":"`album`"},{"name":"artist","expression":"`artist`"},{"name":"Release Year","expression":"`Release Year`"},{"name":"My Rating","expression":"`My Rating`"},{"name":"Global Rating","expression":"`Global Rating`"},{"name":"My Relative Rating","expression":"`My Relative Rating`"},{"name":"Wikipedia Link","expression":"`Wikipedia Link`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"album","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":100000,"title":"album","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"album"},{"fieldName":"artist","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":100001,"title":"artist","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"artist"},{"fieldName":"Release Year","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":100002,"title":"Release Year","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"Release Year"},{"fieldName":"My Rating","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":100003,"title":"My Rating","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"My Rating"},{"fieldName":"Global Rating","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":100004,"title":"Global Rating","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"Global Rating"},{"fieldName":"My Relative Rating","numberFormat":"\t‘(0 %)’","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"decimal","displayAs":"number","visible":true,"order":100005,"title":"My Relative Rating","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"My Relative Rating"},{"fieldName":"Wikipedia Link","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ album }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"link","visible":true,"order":100007,"title":"Wikipedia Link","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"Wikipedia Link"}]},"invisibleColumns":[{"dateTimeFormat":"DD/MM/YYYY","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Review Date","type":"date","displayAs":"datetime","order":100006,"title":"Review Date","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false}},"position":{"x":0,"y":11,"width":6,"height":8}},{"widget":{"name":"f356facf","queries":[{"name":"main_query","query":{"datasetName":"temp_dataset_name","fields":[{"name":"My Relative Rating","expression":"`My Relative Rating`"},{"name":"Album","expression":"`Album`"},{"name":"Artist","expression":"`Artist`"},{"name":"Release Year","expression":"`Release Year`"}],"disaggregated":true}}],"spec":{"version":3,"widgetType":"scatter","encodings":{"x":{"fieldName":"Release Year","scale":{"type":"quantitative"},"displayName":"Release Year"},"y":{"fieldName":"My Relative Rating","scale":{"type":"quantitative"},"displayName":"My Relative Rating"},"color":{"fieldName":"My Relative Rating","scale":{"type":"quantitative"},"displayName":"My Relative Rating"},"label":{"show":true},"extra":[{"fieldName":"Album","displayName":"Album"},{"fieldName":"Artist","displayName":"Artist"}]},"frame":{"title":"Top Rated Albums","showTitle":false,"showDescription":false}}},"position":{"x":0,"y":5,"width":3,"height":6}},{"widget":{"name":"7dc8b48e","queries":[{"name":"dashboards/01ef83092f1b1403b7967bea7000d543/datasets/01ef83092f231d8fa1930b144ed2ce6c_Global Rating","query":{"datasetName":"temp_dataset_name","fields":[{"name":"min(Global Rating)","expression":"MIN(`Global Rating`)"},{"name":"max(Global Rating)","expression":"MAX(`Global Rating`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"Global Rating","displayName":"Global Rating","queryName":"dashboards/01ef83092f1b1403b7967bea7000d543/datasets/01ef83092f231d8fa1930b144ed2ce6c_Global Rating"}]},"frame":{"showTitle":true,"title":""}}},"position":{"x":4,"y":4,"width":2,"height":1}},{"widget":{"name":"a9d7510c","queries":[{"name":"dashboards/01ef83092f1b1403b7967bea7000d543/datasets/01ef83092f231d8fa1930b144ed2ce6c_Release Decade","query":{"datasetName":"temp_dataset_name","fields":[{"name":"Release Decade","expression":"`Release Decade`"},{"name":"Release Decade_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"Release Decade","displayName":"Release Decade","queryName":"dashboards/01ef83092f1b1403b7967bea7000d543/datasets/01ef83092f231d8fa1930b144ed2ce6c_Release Decade"}]},"frame":{"showTitle":true,"title":""}}},"position":{"x":0,"y":4,"width":2,"height":1}},{"widget":{"name":"ad146849","queries":[{"name":"dashboards/01ef83092f1b1403b7967bea7000d543/datasets/01ef83092f231d8fa1930b144ed2ce6c_My Rating","query":{"datasetName":"temp_dataset_name","fields":[{"name":"My Rating","expression":"`My Rating`"},{"name":"My Rating_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"My Rating","displayName":"My Rating","queryName":"dashboards/01ef83092f1b1403b7967bea7000d543/datasets/01ef83092f231d8fa1930b144ed2ce6c_My Rating"}]},"frame":{"showTitle":true,"title":""}}},"position":{"x":2,"y":4,"width":2,"height":1}},{"widget":{"name":"a1b52e9b","queries":[{"name":"main_query","query":{"datasetName":"temp_dataset_name","fields":[{"name":"count(Album)","expression":"COUNT(`Album`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"count(Album)","displayName":"Count of Album"}},"frame":{"showTitle":true,"title":"Albums reviewed"}}},"position":{"x":3,"y":0,"width":1,"height":4}},{"widget":{"name":"b70bb453","queries":[{"name":"main_query","query":{"datasetName":"temp_dataset_name","fields":[{"name":"avg(My Rating)","expression":"AVG(`My Rating`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(My Rating)","displayName":"Average My Rating"}},"frame":{"showTitle":true,"title":"My average rating"}}},"position":{"x":4,"y":0,"width":1,"height":4}},{"widget":{"name":"c169d5c0","queries":[{"name":"main_query","query":{"datasetName":"temp_dataset_name","fields":[{"name":"avg(Global Rating)","expression":"AVG(`Global Rating`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(Global Rating)","displayName":"Average Global Rating"}},"frame":{"showTitle":true,"title":"Global average rating"}}},"position":{"x":5,"y":0,"width":1,"height":4}}]},{"name":"a6fbcd51","displayName":"Genre","layout":[{"widget":{"name":"b48e1838","queries":[{"name":"main_query","query":{"datasetName":"898edac1","fields":[{"name":"exploded_genre","expression":"`exploded_genre`"},{"name":"median(My Rating)","expression":"MEDIAN(`My Rating`)"},{"name":"median(Global Rating)","expression":"MEDIAN(`Global Rating`)"}],"disaggregated":false}}],"spec":{"version":1,"widgetType":"combo","encodings":{"x":{"fieldName":"exploded_genre","scale":{"type":"categorical","sort":{"by":"natural-order"}},"displayName":"exploded_genre"},"y":{"primary":{"fields":[]},"secondary":{"fields":[{"fieldName":"median(My Rating)","displayName":"Median of My Rating"},{"fieldName":"median(Global Rating)","displayName":"Median of Global Rating"}]},"scale":{"type":"quantitative","domain":{"min":1,"max":5}}}}}},"position":{"x":0,"y":0,"width":3,"height":6}},{"widget":{"name":"4b05bde8","queries":[{"name":"main_query","query":{"datasetName":"temp_dataset_name","fields":[{"name":"Release Decade","expression":"`Release Decade`"},{"name":"avg(My Rating)","expression":"AVG(`My Rating`)"},{"name":"avg(Global Rating)","expression":"AVG(`Global Rating`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"Release Decade","scale":{"type":"categorical"},"axis":{"hideTitle":false},"displayName":"Release Decade"},"y":{"scale":{"type":"quantitative","domain":{"min":1,"max":5}},"fields":[{"fieldName":"avg(My Rating)","displayName":"Average My Rating"},{"fieldName":"avg(Global Rating)","displayName":"Average Global Rating"}],"axis":{"hideTitle":true}}},"mark":{"layout":"group"}}},"position":{"x":3,"y":0,"width":3,"height":6}}]}]}